<html><body><pre>
<span style="color: #666666;">/******************************&nbsp;Initial&nbsp;variable&nbsp;values&nbsp;*******************************/</span>

<span style="color: #33997E;">var</span> mainCanvas;
<span style="color: #33997E;">var</span> buttonClicked = 0;
<span style="color: #33997E;">var</span> windowScale = 1;
<span style="color: #33997E;">var</span> numX = 9, numY = 9, numMines = 10;
<span style="color: #33997E;">var</span> tiles = <span style="color: #33997E;">new</span> Array(50);
<span style="color: #33997E;">var</span> clicked = <span style="color: #33997E;">false</span>;
<span style="color: #33997E;">var</span> dimension = 1;
<span style="color: #33997E;">var</span> explode = <span style="color: #33997E;">false</span>;
<span style="color: #33997E;">var</span> speed = 90;
<span style="color: #33997E;">var</span> centerX = 0; centerY = 0;
<span style="color: #33997E;">var</span> mouseDown;
<span style="color: #33997E;">var</span> first = <span style="color: #33997E;">false</span>;
<span style="color: #33997E;">var</span> firstX, firstY;
<span style="color: #33997E;">var</span> neighboorCheck = [[1, 1], [1, 0], [1, -1], [0, 1], [0, -1], [-1, -1], [-1, 0], [-1, 1], [0, -2], [0, 2], [-2, 0], [2, 0]];
<span style="color: #33997E;">var</span> stopper = 0;
<span style="color: #33997E;">var</span> timer = 000, timerStart = 000;
<span style="color: #33997E;">var</span> gameStatus = <span style="color: #7D4793;">&quot;inactive&quot;</span>;
<span style="color: #33997E;">var</span> face;
<span style="color: #33997E;">var</span> maxTiles = 50;
<span style="color: #33997E;">var</span> height2;
<span style="color: #33997E;">var</span> testMode = <span style="color: #33997E;">false</span>;



<span style="color: #666666;">/******************************&nbsp;Setup&nbsp;Window&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> <span style="color: #006699;"><b>setup</b></span>() { <span style="color: #666666;">// creates canvas and setups first game</span>
&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(<span style="color: #7D4793;">&quot;Minesweeper 001&quot;</span>);
&nbsp;&nbsp;mainCanvas&nbsp;=&nbsp;createCanvas(1,&nbsp;1);
&nbsp;&nbsp;<span style="color: #006699;">background</span>(0);
&nbsp;&nbsp;<span style="color: #006699;">rectMode</span>(<span style="color: #718A62;">CENTER</span>);
&nbsp;&nbsp;<span style="color: #006699;">imageMode</span>(<span style="color: #718A62;">CENTER</span>);
&nbsp;&nbsp;<span style="color: #006699;">textAlign</span>(<span style="color: #718A62;">CENTER</span>, <span style="color: #718A62;">CENTER</span>);
&nbsp;&nbsp;mainCanvas.parent(<span style="color: #7D4793;">&apos;sketch-holder&apos;</span>);
&nbsp;&nbsp;face&nbsp;=&nbsp;<span style="color: #33997E;">new</span> Tile();
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; maxTiles; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;tiles[i]&nbsp;=&nbsp;<span style="color: #33997E;">new</span> Array(maxTiles);
&nbsp;&nbsp;}
&nbsp;&nbsp;newTiles();
&nbsp;&nbsp;setWindowSize();
&nbsp;&nbsp;removeTiles();
&nbsp;&nbsp;newGame();
}



<span style="color: #666666;">/******************************&nbsp;Constant&nbsp;drawing&nbsp;/&nbsp;Key&nbsp;checking&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> <span style="color: #006699;"><b>draw</b></span>() {
&nbsp;&nbsp;<span style="color: #006699;">translate</span>(<span style="color: #D94A7A;">width</span> / 2, height2 / 2);
&nbsp;&nbsp;<span style="color: #006699;">background</span>(255);
&nbsp;&nbsp;<span style="color: #006699;">stroke</span>(105);
&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(6 * windowScale);
&nbsp;&nbsp;<span style="color: #006699;">fill</span>(225);
&nbsp;&nbsp;scaleRect(0,&nbsp;0,&nbsp;<span style="color: #006699;">constrain</span>(numX * dimension, 675, 2000), <span style="color: #006699;">constrain</span>(numY * dimension, 800, 2000)); <span style="color: #666666;">// Game board background</span>
&nbsp;&nbsp;scaleRect(0,&nbsp;-465,&nbsp;<span style="color: #006699;">constrain</span>(numX * dimension, 675, 2000), 125); <span style="color: #666666;">// score/timer/reset bar</span>
&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(2 * windowScale);
&nbsp;&nbsp;<span style="color: #006699;">stroke</span>(180);
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) { <span style="color: #666666;">// background grid</span>
&nbsp;&nbsp;&nbsp;&nbsp;scaleLine((-((numX&nbsp;/&nbsp;2)&nbsp;*&nbsp;dimension)&nbsp;+&nbsp;(i&nbsp;*&nbsp;dimension)),&nbsp;-((numY&nbsp;/&nbsp;2)&nbsp;*&nbsp;dimension),&nbsp;(-((numX&nbsp;/&nbsp;2)&nbsp;*&nbsp;dimension)&nbsp;+&nbsp;(i&nbsp;*&nbsp;dimension)),&nbsp;(-((numY&nbsp;/&nbsp;2)&nbsp;*&nbsp;dimension)&nbsp;+&nbsp;(numY&nbsp;*&nbsp;dimension)));
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numY; i++) { <span style="color: #666666;">// background grid</span>
&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(-((numX&nbsp;/&nbsp;2)&nbsp;*&nbsp;dimension),&nbsp;(-((numY&nbsp;/&nbsp;2)&nbsp;*&nbsp;dimension)&nbsp;+&nbsp;(i&nbsp;*&nbsp;dimension)),&nbsp;(-((numX&nbsp;/&nbsp;2)&nbsp;*&nbsp;dimension)&nbsp;+&nbsp;(numX&nbsp;*&nbsp;dimension)),&nbsp;(-((numY&nbsp;/&nbsp;2)&nbsp;*&nbsp;dimension)&nbsp;+&nbsp;(i&nbsp;*&nbsp;dimension)));
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">if</span> (gameStatus == <span style="color: #7D4793;">&quot;active&quot;</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;timer&nbsp;=&nbsp;<span style="color: #006699;">nf</span>(<span style="color: #006699;">round</span>((<span style="color: #006699;">millis</span>() - timerStart) / 1000), 3);
&nbsp;&nbsp;}
&nbsp;&nbsp;tileDraw();
&nbsp;&nbsp;check();
&nbsp;&nbsp;tileDrawExplode();
&nbsp;&nbsp;checkWin();
&nbsp;&nbsp;<span style="color: #669900;">if</span> (explode) {
&nbsp;&nbsp;&nbsp;&nbsp;tilesExplode();
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #006699;">stroke</span>(105);
&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(4 * windowScale);
&nbsp;&nbsp;<span style="color: #006699;">noFill</span>();
&nbsp;&nbsp;scaleRect(0,&nbsp;0,&nbsp;numX&nbsp;*&nbsp;dimension,&nbsp;numY&nbsp;*&nbsp;dimension);
&nbsp;&nbsp;scaleRect(0,&nbsp;-465,&nbsp;<span style="color: #006699;">constrain</span>(numX * dimension, 675, 2000), 125);
&nbsp;&nbsp;<span style="color: #006699;">noStroke</span>();
&nbsp;&nbsp;<span style="color: #006699;">textSize</span>(60 * windowScale);
&nbsp;&nbsp;<span style="color: #006699;">fill</span>(0);
&nbsp;&nbsp;<span style="color: #006699;">text</span>(<span style="color: #006699;">nf</span>(countMines(<span style="color: #33997E;">true</span>), 3), -275 * windowScale, -465 * windowScale);
&nbsp;&nbsp;<span style="color: #006699;">text</span>(timer, 270 * windowScale, -465 * windowScale);
&nbsp;&nbsp;face.displaySmile();
}

<span style="color: #33997E;">function</span> <span style="color: #006699;"><b>keyPressed</b></span>() { <span style="color: #666666;">//keys used for testing</span>
&nbsp;&nbsp;<span style="color: #669900;">if</span> (testMode) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 32) { <span style="color: #666666;">// Space Bar:</span>

&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 38) { <span style="color: #666666;">// increase number of tiles in height</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numY&nbsp;=&nbsp;<span style="color: #006699;">constrain</span>(numY + 1, 4, 20);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resizeTiles();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 40) { <span style="color: #666666;">// decrease number of tiles in height</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numY&nbsp;=&nbsp;<span style="color: #006699;">constrain</span>(numY - 1, 4, 20);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resizeTiles();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 37) { <span style="color: #666666;">// decrease number of tiles in width</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numX&nbsp;=&nbsp;<span style="color: #006699;">constrain</span>(numX - 1, 4, 20);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resizeTiles();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 39) { <span style="color: #666666;">// increase number of tiles in width</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numX&nbsp;=&nbsp;<span style="color: #006699;">constrain</span>(numX + 1, 4, 20);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resizeTiles();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 70) { <span style="color: #666666;">// F: Explode tiles</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explode&nbsp;=&nbsp;<span style="color: #33997E;">true</span>;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setExplode();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 82) { <span style="color: #666666;">// R: Reset for new game</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newGame();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 83) { <span style="color: #666666;">// S: Show (check) all tiles</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showAll();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 72) { <span style="color: #666666;">// H: Hide (uncheck) all tiles</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hideAll();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}



<span style="color: #666666;">/******************************&nbsp;Inspect&nbsp;Element&nbsp;Console&nbsp;Commands&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> showAll() { <span style="color: #666666;">// Show (check) all tiles</span>
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].show();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> hideAll() { <span style="color: #666666;">// H: Hide (uncheck) all tiles</span>
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].hide();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}



<span style="color: #666666;">/******************************&nbsp;Window&nbsp;Resizing&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> windowResized() { <span style="color: #666666;">// js function runs when window is resized</span>
&nbsp;&nbsp;setWindowSize();
}

<span style="color: #33997E;">function</span> setWindowSize() { <span style="color: #666666;">// Resizes canvas and sets windowScale</span>
&nbsp;&nbsp;windowScale&nbsp;=&nbsp;windowWidth&nbsp;/&nbsp;1920;
&nbsp;&nbsp;resizeCanvas(windowWidth,&nbsp;windowWidth&nbsp;*&nbsp;8&nbsp;/&nbsp;16);
&nbsp;&nbsp;height2&nbsp;=&nbsp;windowWidth&nbsp;*&nbsp;9&nbsp;/&nbsp;16;
}



<span style="color: #666666;">/******************************&nbsp;Reset&nbsp;/&nbsp;Deletes&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> reset() { <span style="color: #666666;">// Calls functions necessary to reset game</span>
&nbsp;&nbsp;hideAll();
&nbsp;&nbsp;clearMines();
&nbsp;&nbsp;resetNumbers();
&nbsp;&nbsp;clearFlags();
&nbsp;&nbsp;clicks&nbsp;=&nbsp;0;
&nbsp;&nbsp;shown&nbsp;=&nbsp;0;
&nbsp;&nbsp;error&nbsp;=&nbsp;<span style="color: #33997E;">false</span>;
}

<span style="color: #33997E;">function</span> clearMines() { <span style="color: #666666;">// Removes all mines</span>
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].mine&nbsp;=&nbsp;<span style="color: #33997E;">false</span>;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> clearFlags() { <span style="color: #666666;">// Removes all flags</span>
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].flag&nbsp;=&nbsp;<span style="color: #33997E;">false</span>;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> resetNumbers() { <span style="color: #666666;">// Resets all tile numbers</span>
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].number&nbsp;=&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> removeTiles() { <span style="color: #666666;">// Deletes all tiles</span>
&nbsp;&nbsp;tiles.<span style="color: #33997E;">length</span> = 0;
&nbsp;&nbsp;tiles.<span style="color: #33997E;">length</span> = 20;
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; maxTiles; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;tiles[i]&nbsp;=&nbsp;<span style="color: #33997E;">new</span> Array(40);
&nbsp;&nbsp;}
&nbsp;&nbsp;newTiles();
}



<span style="color: #666666;">/******************************&nbsp;Setups&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> newGame() { <span style="color: #666666;">// Sets up and starts new game</span>
&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(<span style="color: #7D4793;">&quot;New Game&quot;</span>);
&nbsp;&nbsp;reset();
&nbsp;&nbsp;setDimensions();
&nbsp;&nbsp;widthOutput.innerHTML&nbsp;=&nbsp;numX;
&nbsp;&nbsp;heightOutput.innerHTML&nbsp;=&nbsp;numY;
&nbsp;&nbsp;minesOutput.innerHTML&nbsp;=&nbsp;numMines;
&nbsp;&nbsp;first&nbsp;=&nbsp;<span style="color: #33997E;">true</span>;
&nbsp;&nbsp;face.face&nbsp;=&nbsp;<span style="color: #7D4793;">&quot;happy&quot;</span>;
}

<span style="color: #33997E;">function</span> beginner() { <span style="color: #666666;">// Sets variables for a beginner game</span>
&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(<span style="color: #7D4793;">&quot;Beginner&quot;</span>);
&nbsp;&nbsp;mode&nbsp;=&nbsp;beginner;
&nbsp;&nbsp;numX&nbsp;=&nbsp;9;
&nbsp;&nbsp;numY&nbsp;=&nbsp;9;
&nbsp;&nbsp;numMines&nbsp;=&nbsp;10;
&nbsp;&nbsp;resizeTiles();
&nbsp;&nbsp;newGame();
}

<span style="color: #33997E;">function</span> intermediate() { <span style="color: #666666;">// Sets variables for an intermediate game</span>
&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(<span style="color: #7D4793;">&quot;Intermedaite&quot;</span>);
&nbsp;&nbsp;mode&nbsp;=&nbsp;intermediate;
&nbsp;&nbsp;numX&nbsp;=&nbsp;16;
&nbsp;&nbsp;numY&nbsp;=&nbsp;16;
&nbsp;&nbsp;numMines&nbsp;=&nbsp;40;
&nbsp;&nbsp;resizeTiles();
&nbsp;&nbsp;newGame();
}

<span style="color: #33997E;">function</span> expert() { <span style="color: #666666;">// Sets variables for an expert game</span>
&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(<span style="color: #7D4793;">&quot;Expert&quot;</span>);
&nbsp;&nbsp;mode&nbsp;=&nbsp;expert;
&nbsp;&nbsp;numX&nbsp;=&nbsp;30;
&nbsp;&nbsp;numY&nbsp;=&nbsp;16;
&nbsp;&nbsp;numMines&nbsp;=&nbsp;99;
&nbsp;&nbsp;resizeTiles();
&nbsp;&nbsp;newGame();
}

<span style="color: #33997E;">function</span> custom(number, type) { <span style="color: #666666;">// Sets variables for a custom game</span>
&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(<span style="color: #7D4793;">&quot;Custom&quot;</span>);
&nbsp;&nbsp;<span style="color: #669900;">if</span> (type == <span style="color: #7D4793;">&quot;width&quot;</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;numX&nbsp;=&nbsp;number;
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">if</span> (type == <span style="color: #7D4793;">&quot;height&quot;</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;numY&nbsp;=&nbsp;number;
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">if</span> (type == <span style="color: #7D4793;">&quot;mines&quot;</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;numMines&nbsp;=&nbsp;number;
&nbsp;&nbsp;}
&nbsp;&nbsp;resizeTiles();
&nbsp;&nbsp;newGame();
}

<span style="color: #33997E;">function</span> setMines(number) { <span style="color: #666666;">// Sets placement of mines</span>
&nbsp;&nbsp;<span style="color: #33997E;">var</span> x;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> y;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> mineX = firstX;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> mineY = firstY;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> count = 0;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> count2 = 0;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> i = 0;
&nbsp;&nbsp;<span style="color: #669900;">if</span> (numMines &gt; numX * numY) {
&nbsp;&nbsp;&nbsp;&nbsp;alerts(<span style="color: #7D4793;">&quot;Too many mines!&quot;</span>);
&nbsp;&nbsp;&nbsp;&nbsp;gameStatus&nbsp;==&nbsp;<span style="color: #7D4793;">&quot;toomanymines&quot;</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">return</span>;
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">while</span> (i &lt; number &amp;&amp; i &lt; numX * numY - 1) {
&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;<span style="color: #006699;">round</span>(<span style="color: #006699;">random</span>(0, numX - 1));
&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;<span style="color: #006699;">round</span>(<span style="color: #006699;">random</span>(0, numY - 1));
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (tiles[x][y].mine == <span style="color: #33997E;">false</span> &amp;&amp; (x != mineX || y != mineY)) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0, count = 0, count2 = 0; j &lt; 12; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (x != mineX + neighboorCheck[j][0] || y != mineY + neighboorCheck[j][1] || i &gt; numX * numY - 13) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count++;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">try</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (tiles[x + neighboorCheck[j][0]][y + neighboorCheck[j][1]].mine == <span style="color: #33997E;">true</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count2++;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #669900;">catch</span> { }
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (count == 12) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #006699;">random</span>(0, count2) &lt; 2) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[x][y].mine&nbsp;=&nbsp;<span style="color: #33997E;">true</span>;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i++;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">if</span> (i == numX * numY - 1) {
&nbsp;&nbsp;&nbsp;&nbsp;numMines&nbsp;=&nbsp;numX&nbsp;*&nbsp;numY&nbsp;-&nbsp;1;
&nbsp;&nbsp;&nbsp;&nbsp;minesOutput.innerHTML&nbsp;=&nbsp;numMines;
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> setNumbers() { <span style="color: #666666;">// Sets each tiles number based on how many mines nearby</span>
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (tiles[i][j].mine == <span style="color: #33997E;">true</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;neighboors(i&nbsp;+&nbsp;1,&nbsp;j&nbsp;+&nbsp;1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;neighboors(i&nbsp;+&nbsp;1,&nbsp;j);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;neighboors(i&nbsp;+&nbsp;1,&nbsp;j&nbsp;-&nbsp;1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;neighboors(i,&nbsp;j&nbsp;-&nbsp;1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;neighboors(i,&nbsp;j&nbsp;+&nbsp;1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;neighboors(i&nbsp;-&nbsp;1,&nbsp;j&nbsp;+&nbsp;1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;neighboors(i&nbsp;-&nbsp;1,&nbsp;j);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;neighboors(i&nbsp;-&nbsp;1,&nbsp;j&nbsp;-&nbsp;1);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> setDimensions() { <span style="color: #666666;">// Sets dimensions of each tile</span>
&nbsp;&nbsp;dimension&nbsp;=&nbsp;804&nbsp;/&nbsp;numY;
&nbsp;&nbsp;<span style="color: #669900;">if</span> (numX * dimension &gt; 3000 * windowScale) {
&nbsp;&nbsp;&nbsp;&nbsp;dimension&nbsp;=&nbsp;1600&nbsp;/&nbsp;numX;
&nbsp;&nbsp;}

&nbsp;&nbsp;w&nbsp;=&nbsp;dimension;
&nbsp;&nbsp;h&nbsp;=&nbsp;dimension;
}

<span style="color: #33997E;">function</span> newTiles() { <span style="color: #666666;">// Creates new tiles</span>
&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(<span style="color: #7D4793;">&quot;New Tiles&quot;</span>)
&nbsp;&nbsp;setDimensions();
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; maxTiles; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; maxTiles; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j]&nbsp;=&nbsp;<span style="color: #33997E;">new</span> Tile(i, j, windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> resizeTiles() { <span style="color: #666666;">// Resizes tiles to fit in window</span>
&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(<span style="color: #7D4793;">&quot;Resize Tiles&quot;</span>)
&nbsp;&nbsp;reset();
&nbsp;&nbsp;newTiles();
}

<span style="color: #33997E;">function</span> firstClick(i, j) { <span style="color: #666666;">// places mines after first click</span>
&nbsp;&nbsp;firstX&nbsp;=&nbsp;i;
&nbsp;&nbsp;firstY&nbsp;=&nbsp;j;
&nbsp;&nbsp;clearFlags();
&nbsp;&nbsp;toggleCustom(<span style="color: #33997E;">false</span>);
&nbsp;&nbsp;setMines(numMines);
&nbsp;&nbsp;setNumbers();
&nbsp;&nbsp;first&nbsp;=&nbsp;<span style="color: #33997E;">false</span>;
&nbsp;&nbsp;timer&nbsp;=&nbsp;0;
&nbsp;&nbsp;timerStart&nbsp;=&nbsp;<span style="color: #006699;">millis</span>();
&nbsp;&nbsp;gameStatus&nbsp;=&nbsp;<span style="color: #7D4793;">&quot;active&quot;</span>;
}



<span style="color: #666666;">/******************************&nbsp;Display&nbsp;Tiles&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> tileDraw() { <span style="color: #666666;">// Draws all tiles on screen</span>
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].display();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> tileDrawExplode() { <span style="color: #666666;">// Draws explosion if needed</span>
&nbsp;&nbsp;<span style="color: #669900;">if</span> (explode) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">textAlign</span>(<span style="color: #718A62;">CENTER</span>, <span style="color: #718A62;">CENTER</span>);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">textSize</span>(20 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(1 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].displayExplode();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> setExplode() { <span style="color: #666666;">// Gets tiles ready to explode</span>
&nbsp;&nbsp;explode&nbsp;=&nbsp;<span style="color: #33997E;">true</span>;
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].setExplode();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> tilesExplode() { <span style="color: #666666;">// Calculates new coordinates for each exploding tile</span>
&nbsp;&nbsp;showAll();
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].explode(speed);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">if</span> (tiles[0][0].yExplode &lt; -1000) {
&nbsp;&nbsp;&nbsp;&nbsp;explode&nbsp;=&nbsp;<span style="color: #33997E;">false</span>;
&nbsp;&nbsp;}
}



<span style="color: #666666;">/******************************&nbsp;Check&nbsp;user&nbsp;clicks&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> check() { <span style="color: #666666;">// Checks which mouse button was used</span>
&nbsp;&nbsp;<span style="color: #669900;">if</span> (mouseIsPressed) {
&nbsp;&nbsp;&nbsp;&nbsp;mouseDown&nbsp;=&nbsp;<span style="color: #33997E;">true</span>;
&nbsp;&nbsp;}&nbsp;<span style="color: #669900;">else</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (mouseDown == <span style="color: #33997E;">true</span> &amp;&amp; !mouseIsPressed) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">mouseButton</span> == <span style="color: #7D4793;">&quot;left&quot;</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkTiles(<span style="color: #D94A7A;">mouseX</span> - <span style="color: #D94A7A;">width</span> / 2, <span style="color: #D94A7A;">mouseY</span> - height2 / 2, dimension);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #669900;">else</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flagTile(<span style="color: #D94A7A;">mouseX</span> - <span style="color: #D94A7A;">width</span> / 2, <span style="color: #D94A7A;">mouseY</span> - height2 / 2, dimension);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mouseDown&nbsp;=&nbsp;<span style="color: #33997E;">false</span>;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> checkTiles(x, y, d) { <span style="color: #666666;">// Determines which tile (or restart) was clicked</span>
&nbsp;&nbsp;<span style="color: #33997E;">var</span> i = -1 * <span style="color: #006699;">round</span>(-x / (d * windowScale) - numX / 2 + .5);
&nbsp;&nbsp;<span style="color: #33997E;">var</span> j = -1 * <span style="color: #006699;">round</span>(-y / (d * windowScale) - numY / 2 + .5);
&nbsp;&nbsp;<span style="color: #669900;">if</span> (i &gt;= 0 &amp;&amp; i &lt; numX &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; numY &amp;&amp; tiles[i][j].flag == <span style="color: #33997E;">false</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (first) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;firstClick(i,&nbsp;j);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].clicked();
&nbsp;&nbsp;&nbsp;&nbsp;stopper&nbsp;=&nbsp;0;
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #006699;">abs</span>(x) &lt; 45 * windowScale &amp;&amp; <span style="color: #006699;">abs</span>(y + 465 * windowScale) &lt; 45 * windowScale) {
&nbsp;&nbsp;&nbsp;&nbsp;newGame();
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> flagTile(x, y, d) { <span style="color: #666666;">// Toggles flag on clicked tile</span>
&nbsp;&nbsp;<span style="color: #33997E;">var</span> i = -1 * <span style="color: #006699;">round</span>(-x / (d * windowScale) - numX / 2 + .5);
&nbsp;&nbsp;<span style="color: #33997E;">var</span> j = -1 * <span style="color: #006699;">round</span>(-y / (d * windowScale) - numY / 2 + .5);
&nbsp;&nbsp;<span style="color: #669900;">if</span> (i &gt;= 0 &amp;&amp; i &lt;= numX &amp;&amp; j &gt;= 0 &amp;&amp; j &lt;= numY &amp;&amp; tiles[i][j].checked == <span style="color: #33997E;">false</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].flag&nbsp;=&nbsp;!tiles[i][j].flag;
&nbsp;&nbsp;}
}

<span style="color: #666666;">/******************************&nbsp;Game&nbsp;Over&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> checkWin() { <span style="color: #666666;">// Checks if user won and ends game if true</span>
&nbsp;&nbsp;<span style="color: #669900;">if</span> (countTiles() == numX * numY &amp;&amp; countMines(<span style="color: #33997E;">true</span>) == 0 &amp;&amp; gameStatus == <span style="color: #7D4793;">&quot;active&quot;</span> &amp;&amp; !error) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(<span style="color: #7D4793;">&quot;win&quot;</span>);
&nbsp;&nbsp;&nbsp;&nbsp;gameStatus&nbsp;=&nbsp;<span style="color: #7D4793;">&quot;win&quot;</span>;
&nbsp;&nbsp;&nbsp;&nbsp;face.face&nbsp;=&nbsp;<span style="color: #7D4793;">&quot;win&quot;</span>;
&nbsp;&nbsp;&nbsp;&nbsp;alert(<span style="color: #7D4793;">&quot;You Won in &quot;</span> + timer + <span style="color: #7D4793;">&quot; seconds!&quot;</span>);
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> gameOver() { <span style="color: #666666;">// Mine explodes and game ends</span>
&nbsp;&nbsp;face.face&nbsp;=&nbsp;<span style="color: #7D4793;">&quot;dead&quot;</span>;
&nbsp;&nbsp;gameStatus&nbsp;=&nbsp;<span style="color: #7D4793;">&quot;inactive&quot;</span>;
&nbsp;&nbsp;setExplode();
}



<span style="color: #666666;">/******************************&nbsp;Other&nbsp;&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> countTiles() { <span style="color: #666666;">// Returns number of tiles that are checked or flagged</span>
&nbsp;&nbsp;count&nbsp;=&nbsp;0;
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (tiles[i][j].checked == <span style="color: #33997E;">true</span> || tiles[i][j].flag == <span style="color: #33997E;">true</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count++;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #33997E;">return</span> count;
}

<span style="color: #33997E;">function</span> countMines(countTiles) { <span style="color: #666666;">// Returns number of mines or number of mines - flags</span>
&nbsp;&nbsp;count&nbsp;=&nbsp;0;
&nbsp;&nbsp;count2&nbsp;=&nbsp;0;
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (tiles[i][j].mine == <span style="color: #33997E;">true</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count++;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (tiles[i][j].flag == <span style="color: #33997E;">true</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count2++;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">if</span> (countTiles) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">return</span> (count - count2);
&nbsp;&nbsp;}&nbsp;<span style="color: #669900;">else</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">return</span> count;
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> alerts(message) { <span style="color: #666666;">// Alerts an error message</span>
&nbsp;&nbsp;gameOver();
&nbsp;&nbsp;error&nbsp;=&nbsp;<span style="color: #33997E;">true</span>;
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; numX; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">for</span> (j = 0; j &lt; numY; j++) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].mine&nbsp;=&nbsp;<span style="color: #33997E;">true</span>;
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
&nbsp;&nbsp;alert(message);
}

<span style="color: #33997E;">function</span> neighboors(i, j) {
&nbsp;&nbsp;<span style="color: #669900;">try</span> {
&nbsp;&nbsp;&nbsp;&nbsp;tiles[i][j].number++;
&nbsp;&nbsp;}&nbsp;<span style="color: #669900;">catch</span> {
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> autoClear(x, y) {
&nbsp;&nbsp;tiles[x][y].checkedAuto&nbsp;=&nbsp;<span style="color: #33997E;">true</span>;
&nbsp;&nbsp;stopper++;
&nbsp;&nbsp;<span style="color: #669900;">if</span> (stopper &gt; 10) {
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; 8; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">var</span> checkX = x + neighboorCheck[i][0];
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">var</span> checkY = y + neighboorCheck[i][1];
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">try</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (tiles[checkX][checkY].checked == <span style="color: #33997E;">false</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tiles[checkX][checkY].clicked();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoClear(x,&nbsp;y);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #669900;">catch</span> (e) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">console</span>.<span style="color: #006699;">log</span>(e);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}
}



<span style="color: #666666;">/******************************&nbsp;Scaled&nbsp;Shapes&nbsp;*******************************/</span>

<span style="color: #33997E;">function</span> scaleTriangle(x1, y1, x2, y2, x3, y3) {
&nbsp;&nbsp;<span style="color: #006699;">triangle</span>(x1 * windowScale, y1 * windowScale, x2 * windowScale, y2 * windowScale, x3 * windowScale, y3 * windowScale);
}

<span style="color: #33997E;">function</span> scaleRect(x, y, w, h) {
&nbsp;&nbsp;<span style="color: #006699;">rect</span>(x * windowScale, y * windowScale, w * windowScale, h * windowScale);
}

<span style="color: #33997E;">function</span> scaleLine(x1, y1, x2, y2) {
&nbsp;&nbsp;<span style="color: #006699;">line</span>(x1 * windowScale, y1 * windowScale, x2 * windowScale, y2 * windowScale);
}

<span style="color: #33997E;">function</span> scaleEllipse(x, y, w, h) {
&nbsp;&nbsp;<span style="color: #006699;">ellipse</span>(x * windowScale, y * windowScale, w * windowScale, h * windowScale);
}

<span style="color: #33997E;">function</span> scalePoint(x, y) {
&nbsp;&nbsp;<span style="color: #006699;">point</span>(x * windowScale, y * windowScale);
}

<span style="color: #33997E;">function</span> scaleCurve(x1, y1, x2, y2, x3, y3, x4, y4) {
&nbsp;&nbsp;<span style="color: #006699;">curve</span>(x1 * windowScale, y1 * windowScale, x2 * windowScale, y2 * windowScale, x3 * windowScale, y3 * windowScale, x4 * windowScale, y4 * windowScale);
}



<span style="color: #666666;">/******************************&nbsp;Tile&nbsp;Class&nbsp;*******************************/</span>

<span style="color: #33997E;">class</span> Tile {
&nbsp;&nbsp;constructor(i,&nbsp;j)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.x = -((numX / 2 - .5) * dimension) + (i * dimension);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.y = -((numY / 2 - .5) * dimension) + (j * dimension);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.i = i;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.j = j;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.w = dimension;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.h = dimension;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.checked = <span style="color: #33997E;">false</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.checkedAuto = <span style="color: #33997E;">false</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.mine = <span style="color: #33997E;">false</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.number = 0;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.flag = <span style="color: #33997E;">false</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.face = <span style="color: #7D4793;">&quot;happy&quot;</span>;
&nbsp;&nbsp;}


&nbsp;&nbsp;display()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.checked == <span style="color: #33997E;">false</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.emptyTile();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.flag) { <span style="color: #666666;">// flagged tile</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.flaggedTile();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #669900;">else</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.mine == <span style="color: #33997E;">true</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.mineTile();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #669900;">else</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">noStroke</span>();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(0);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">textSize</span>(40 * windowScale * dimension / 80);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">textAlign</span>(<span style="color: #718A62;">CENTER</span>);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.number != 0) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">text</span>(<span style="color: #33997E;">this</span>.number, <span style="color: #33997E;">this</span>.x * windowScale, <span style="color: #33997E;">this</span>.y * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}

&nbsp;&nbsp;displayExplode()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.flag) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(0);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">noStroke</span>();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleRect((<span style="color: #33997E;">this</span>.xExplode - 2.4), (<span style="color: #33997E;">this</span>.yExplode), 5 * dimension / 80, 46 * dimension / 80);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleRect((<span style="color: #33997E;">this</span>.xExplode - 2), (<span style="color: #33997E;">this</span>.yExplode + 20), 25 * dimension / 80, 8 * dimension / 80);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleRect((<span style="color: #33997E;">this</span>.xExplode - 2), (<span style="color: #33997E;">this</span>.yExplode + 25), 45 * dimension / 80, 8 * dimension / 80);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(255, 0, 0);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleTriangle(<span style="color: #33997E;">this</span>.xExplode, <span style="color: #33997E;">this</span>.yExplode, <span style="color: #33997E;">this</span>.xExplode, <span style="color: #33997E;">this</span>.yExplode - 28, <span style="color: #33997E;">this</span>.xExplode - 20, <span style="color: #33997E;">this</span>.yExplode - 14);
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span style="color: #669900;">else</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(200);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleRect(<span style="color: #33997E;">this</span>.xExplode, <span style="color: #33997E;">this</span>.yExplode, <span style="color: #33997E;">this</span>.w, <span style="color: #33997E;">this</span>.h);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}

&nbsp;&nbsp;clicked()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.checked = <span style="color: #33997E;">true</span>;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.mine &amp;&amp; gameStatus == <span style="color: #7D4793;">&quot;active&quot;</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explode&nbsp;=&nbsp;<span style="color: #33997E;">true</span>;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gameOver();
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.number == 0 &amp;&amp; <span style="color: #33997E;">this</span>.i &lt; numX &amp;&amp; <span style="color: #33997E;">this</span>.j &lt; numY) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stopper&nbsp;=&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoClear(<span style="color: #33997E;">this</span>.i, <span style="color: #33997E;">this</span>.j);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}

&nbsp;&nbsp;show()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.checked = <span style="color: #33997E;">true</span>;
&nbsp;&nbsp;}

&nbsp;&nbsp;hide()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.checked = <span style="color: #33997E;">false</span>;
&nbsp;&nbsp;}

&nbsp;&nbsp;setExplode()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.xExplode = <span style="color: #33997E;">this</span>.x;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.yExplode = <span style="color: #33997E;">this</span>.y;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.theta = <span style="color: #006699;">atan</span>((<span style="color: #33997E;">this</span>.x - centerX) / (<span style="color: #33997E;">this</span>.y - centerY));
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.r = <span style="color: #006699;">sqrt</span>(<span style="color: #006699;">pow</span>(<span style="color: #33997E;">this</span>.x - centerX, 2) + <span style="color: #006699;">pow</span>(<span style="color: #33997E;">this</span>.y - centerY, 2));
&nbsp;&nbsp;}

&nbsp;&nbsp;explode(speed)&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.r = (<span style="color: #33997E;">this</span>.r) + speed;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.yExplode = <span style="color: #006699;">abs</span>(<span style="color: #33997E;">this</span>.r * <span style="color: #006699;">cos</span>(<span style="color: #33997E;">this</span>.theta)) * (<span style="color: #33997E;">this</span>.yExplode / <span style="color: #006699;">abs</span>(<span style="color: #33997E;">this</span>.yExplode)) + centerY;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">this</span>.xExplode = <span style="color: #006699;">abs</span>(<span style="color: #33997E;">this</span>.r * <span style="color: #006699;">sin</span>(<span style="color: #33997E;">this</span>.theta)) * (<span style="color: #33997E;">this</span>.xExplode / <span style="color: #006699;">abs</span>(<span style="color: #33997E;">this</span>.xExplode)) + centerX;
&nbsp;&nbsp;}

&nbsp;&nbsp;displaySmile()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(255, 255, 0);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">stroke</span>(0);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(4 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;scaleEllipse(0,&nbsp;-465,&nbsp;90,&nbsp;90);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.face == <span style="color: #7D4793;">&quot;happy&quot;</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(10 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scalePoint(-18,&nbsp;-477);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scalePoint(18,&nbsp;-477);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(6 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleCurve(-30,&nbsp;-560,&nbsp;-22,&nbsp;-455,&nbsp;22,&nbsp;-455,&nbsp;30,&nbsp;-560);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.face == <span style="color: #7D4793;">&quot;win&quot;</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(6 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleCurve(-30,&nbsp;-560,&nbsp;-22,&nbsp;-455,&nbsp;22,&nbsp;-455,&nbsp;30,&nbsp;-560);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(2 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(0);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(-40,&nbsp;-477,&nbsp;40,&nbsp;-477);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleEllipse(-18,&nbsp;-477,&nbsp;24,&nbsp;18);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleEllipse(18,&nbsp;-477,&nbsp;24,&nbsp;18);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #33997E;">this</span>.face == <span style="color: #7D4793;">&quot;dead&quot;</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(6 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleCurve(-30,&nbsp;-350,&nbsp;-22,&nbsp;-445,&nbsp;22,&nbsp;-445,&nbsp;30,&nbsp;-350);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scalePoint(-18,&nbsp;-477);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scalePoint(18,&nbsp;-477);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(-24,&nbsp;-471,&nbsp;-12,&nbsp;-483);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(-24,&nbsp;-483,&nbsp;-12,&nbsp;-471);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(24,&nbsp;-471,&nbsp;12,&nbsp;-483);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(24,&nbsp;-483,&nbsp;12,&nbsp;-471);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}

&nbsp;&nbsp;flaggedTile()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(0);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">noStroke</span>();
&nbsp;&nbsp;&nbsp;&nbsp;scaleRect((<span style="color: #33997E;">this</span>.x), (<span style="color: #33997E;">this</span>.y + 1.6 * dimension / 80), 5 * dimension / 80, 46 * dimension / 80); <span style="color: #666666;">// flag pole</span>
&nbsp;&nbsp;&nbsp;&nbsp;scaleRect((<span style="color: #33997E;">this</span>.x - 2 * dimension / 80), (<span style="color: #33997E;">this</span>.y + 20 * dimension / 80), 25 * dimension / 80, 8 * dimension / 80); <span style="color: #666666;">// upper base</span>
&nbsp;&nbsp;&nbsp;&nbsp;scaleRect((<span style="color: #33997E;">this</span>.x - 2 * dimension / 80), (<span style="color: #33997E;">this</span>.y + 25 * dimension / 80), 45 * dimension / 80, 8 * dimension / 80); <span style="color: #666666;">// lower base</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(255, 0, 0);
&nbsp;&nbsp;&nbsp;&nbsp;scaleTriangle((<span style="color: #33997E;">this</span>.x + 1.6 * dimension / 80) + 1.5, <span style="color: #33997E;">this</span>.y, (<span style="color: #33997E;">this</span>.x + 1.6 * dimension / 80) + 1.5, (<span style="color: #33997E;">this</span>.y - 28 * dimension / 80), (<span style="color: #33997E;">this</span>.x - 20 * dimension / 80), (<span style="color: #33997E;">this</span>.y - 14 * dimension / 80));
&nbsp;&nbsp;}

&nbsp;&nbsp;emptyTile()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">noStroke</span>();
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(200);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(1 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(245); <span style="color: #666666;">// empty tile</span>
&nbsp;&nbsp;&nbsp;&nbsp;scaleRect(<span style="color: #33997E;">this</span>.x, <span style="color: #33997E;">this</span>.y, <span style="color: #33997E;">this</span>.w, <span style="color: #33997E;">this</span>.h);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(165);
&nbsp;&nbsp;&nbsp;&nbsp;scaleTriangle(<span style="color: #33997E;">this</span>.x + <span style="color: #33997E;">this</span>.w / 2, <span style="color: #33997E;">this</span>.y + <span style="color: #33997E;">this</span>.w / 2, <span style="color: #33997E;">this</span>.x + <span style="color: #33997E;">this</span>.w / 2, <span style="color: #33997E;">this</span>.y - <span style="color: #33997E;">this</span>.w / 2, <span style="color: #33997E;">this</span>.x - <span style="color: #33997E;">this</span>.w / 2, <span style="color: #33997E;">this</span>.y + <span style="color: #33997E;">this</span>.w / 2);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(205);
&nbsp;&nbsp;&nbsp;&nbsp;scaleRect(<span style="color: #33997E;">this</span>.x, <span style="color: #33997E;">this</span>.y, <span style="color: #33997E;">this</span>.w * .9, <span style="color: #33997E;">this</span>.h * .9);
&nbsp;&nbsp;}

&nbsp;&nbsp;mineTile()&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(0);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">noStroke</span>();
&nbsp;&nbsp;&nbsp;&nbsp;scaleEllipse(<span style="color: #33997E;">this</span>.x, <span style="color: #33997E;">this</span>.y, 32 * dimension / 80, 32 * dimension / 80);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">stroke</span>(0);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(3 * dimension / 80 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(<span style="color: #33997E;">this</span>.x - 18 * dimension / 80, <span style="color: #33997E;">this</span>.y - 18 * dimension / 80, <span style="color: #33997E;">this</span>.x + 18 * dimension / 80, <span style="color: #33997E;">this</span>.y + 18 * dimension / 80);
&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(<span style="color: #33997E;">this</span>.x - 18 * dimension / 80, <span style="color: #33997E;">this</span>.y + 18 * dimension / 80, <span style="color: #33997E;">this</span>.x + 18 * dimension / 80, <span style="color: #33997E;">this</span>.y - 18 * dimension / 80);
&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(<span style="color: #33997E;">this</span>.x, <span style="color: #33997E;">this</span>.y - 24 * dimension / 80, <span style="color: #33997E;">this</span>.x, <span style="color: #33997E;">this</span>.y + 24 * dimension / 80);
&nbsp;&nbsp;&nbsp;&nbsp;scaleLine(<span style="color: #33997E;">this</span>.x - 24 * dimension / 80, <span style="color: #33997E;">this</span>.y, <span style="color: #33997E;">this</span>.x + 24 * dimension / 80, <span style="color: #33997E;">this</span>.y);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">fill</span>(255);
&nbsp;&nbsp;&nbsp;&nbsp;scaleEllipse(<span style="color: #33997E;">this</span>.x - 5 * dimension / 80, <span style="color: #33997E;">this</span>.y - 5 * dimension / 80, 10 * dimension / 80, 10 * dimension / 80);
&nbsp;&nbsp;}

}



<span style="color: #666666;">/******************************&nbsp;END&nbsp;*******************************/</span>

</pre></body></html>
