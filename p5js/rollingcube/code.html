<html><body><pre>
<span style="color: #33997E;">var</span> rotateamount = 0;
<span style="color: #33997E;">var</span> ty = 350;
<span style="color: #33997E;">var</span> tx = -650;
<span style="color: #33997E;">var</span> side = 1;
<span style="color: #33997E;">var</span> i = 0;
<span style="color: #33997E;">var</span> speed = 5;
<span style="color: #33997E;">var</span> touchamount;
<span style="color: #33997E;">var</span> mainCanvas;
<span style="color: #33997E;">var</span> windowScale = 1;
<span style="color: #33997E;">var</span> points = <span style="color: #33997E;">new</span> Array(1000);

<span style="color: #33997E;">function</span> <span style="color: #006699;"><b>setup</b></span>() {
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; 1000; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;points[i]&nbsp;=&nbsp;<span style="color: #33997E;">new</span> Array(3);
&nbsp;&nbsp;}
&nbsp;&nbsp;mainCanvas&nbsp;=&nbsp;createCanvas(1,&nbsp;1);
&nbsp;&nbsp;setWindowSize();
&nbsp;&nbsp;<span style="color: #006699;">background</span>(0);
&nbsp;&nbsp;<span style="color: #006699;">rectMode</span>(<span style="color: #718A62;">CENTER</span>);
&nbsp;&nbsp;mainCanvas.parent(<span style="color: #7D4793;">&apos;sketch-holder&apos;</span>);
}

<span style="color: #33997E;">function</span> <span style="color: #006699;"><b>draw</b></span>() {
&nbsp;&nbsp;<span style="color: #006699;">translate</span>(<span style="color: #D94A7A;">width</span> / 2, <span style="color: #D94A7A;">height</span> / 2);
&nbsp;&nbsp;<span style="color: #006699;">noFill</span>();
&nbsp;&nbsp;<span style="color: #006699;">background</span>(255);
&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(5);
&nbsp;&nbsp;<span style="color: #006699;">rect</span>(0, 0, 1400 * windowScale, 800 * windowScale);
&nbsp;&nbsp;<span style="color: #006699;">strokeWeight</span>(1);
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; 2000; i = i + 100) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">line</span>(i * windowScale, -2000 * windowScale, i * windowScale, 2000 * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">line</span>(-i * windowScale, -2000 * windowScale, -i * windowScale, 2000 * windowScale);
&nbsp;&nbsp;}
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; 2000; i = i + 100) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">line</span>(-2000 * windowScale, i * windowScale, 2000 * windowScale, i * windowScale);
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #006699;">line</span>(-2000 * windowScale, -i * windowScale, 2000 * windowScale, -i * windowScale);
&nbsp;&nbsp;}

&nbsp;&nbsp;tx&nbsp;=&nbsp;points[<span style="color: #D94A7A;">frameCount</span> % (144 * speed)][0]; <span style="color: #666666;">// 720 @ default speed of 5</span>
&nbsp;&nbsp;ty&nbsp;=&nbsp;points[<span style="color: #D94A7A;">frameCount</span> % (144 * speed)][1];
&nbsp;&nbsp;rotateamount&nbsp;=&nbsp;points[<span style="color: #D94A7A;">frameCount</span> % (144 * speed)][2];

&nbsp;&nbsp;<span style="color: #006699;">fill</span>(255, 255, 0);
&nbsp;&nbsp;<span style="color: #006699;">translate</span>(tx * windowScale, ty * windowScale);
&nbsp;&nbsp;<span style="color: #006699;">rotate</span>(<span style="color: #006699;">radians</span>(rotateamount));
&nbsp;&nbsp;<span style="color: #006699;">rect</span>(0, 0, 100 * windowScale, 100 * windowScale);
&nbsp;&nbsp;<span style="color: #006699;">point</span>(0, 0);
}

<span style="color: #33997E;">function</span> <span style="color: #006699;"><b>keyPressed</b></span>() {
&nbsp;&nbsp;<span style="color: #669900;">if</span> (<span style="color: #D94A7A;">keyCode</span> == 32) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #33997E;">var</span> fs = fullscreen();
&nbsp;&nbsp;&nbsp;&nbsp;fullscreen(!fs);
&nbsp;&nbsp;}
}

<span style="color: #33997E;">function</span> windowResized() {
&nbsp;&nbsp;setWindowSize();
}

<span style="color: #33997E;">function</span> setWindowSize() {
&nbsp;&nbsp;<span style="color: #006699;">background</span>(255, 255, 255);
&nbsp;&nbsp;<span style="color: #33997E;">var</span> container = <span style="color: #33997E;">document</span>.getElementById(<span style="color: #7D4793;">&apos;sketch-holder&apos;</span>);
&nbsp;&nbsp;<span style="color: #33997E;">var</span> positionInfo = container.getBoundingClientRect();
&nbsp;&nbsp;<span style="color: #33997E;">var</span> divWidth = positionInfo.<span style="color: #D94A7A;">width</span>;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> divHeight;
&nbsp;&nbsp;windowScale&nbsp;=&nbsp;divWidth&nbsp;/&nbsp;1920;
&nbsp;&nbsp;divHeight&nbsp;=&nbsp;divWidth&nbsp;*&nbsp;9&nbsp;/&nbsp;16;
&nbsp;&nbsp;resizeCanvas(divWidth,&nbsp;divHeight);
&nbsp;&nbsp;calculatePoints();
}

<span style="color: #33997E;">function</span> calculatePoints() {
&nbsp;&nbsp;<span style="color: #33997E;">var</span> side = 1;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> y = 350;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> x = -650;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> rotate = 0;
&nbsp;&nbsp;<span style="color: #33997E;">var</span> speed = 5;
&nbsp;&nbsp;<span style="color: #669900;">for</span> (i = 0; i &lt; 144 * speed; i++) {
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (side == 1) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;350&nbsp;-&nbsp;(<span style="color: #006699;">abs</span>(<span style="color: #006699;">sin</span>(<span style="color: #006699;">radians</span>(rotate * 2))) * (50 * <span style="color: #006699;">sqrt</span>(2) - 50));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;x&nbsp;+&nbsp;(speed&nbsp;*&nbsp;(10&nbsp;/&nbsp;9));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (x &gt;= 650) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;side&nbsp;=&nbsp;2;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;350;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;650;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rotate&nbsp;=&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (side == 2) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;y&nbsp;-&nbsp;(speed&nbsp;*&nbsp;10&nbsp;/&nbsp;9);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;650&nbsp;-&nbsp;(<span style="color: #006699;">abs</span>(<span style="color: #006699;">sin</span>(<span style="color: #006699;">radians</span>(rotate * 2))) * (50 * <span style="color: #006699;">sqrt</span>(2) - 50));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (y &lt;= -350) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;side&nbsp;=&nbsp;3;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;-350;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;650;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rotate&nbsp;=&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (side == 3) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;-350&nbsp;+&nbsp;(<span style="color: #006699;">abs</span>(<span style="color: #006699;">sin</span>(<span style="color: #006699;">radians</span>(rotate * 2))) * (50 * <span style="color: #006699;">sqrt</span>(2) - 50));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;x&nbsp;-&nbsp;(speed&nbsp;*&nbsp;(10&nbsp;/&nbsp;9));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (x &lt;= -650) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;side&nbsp;=&nbsp;4;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;-350;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;-650;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rotate&nbsp;=&nbsp;0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (side == 4) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;=&nbsp;y&nbsp;+&nbsp;(speed&nbsp;*&nbsp;10&nbsp;/&nbsp;9);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;=&nbsp;-650&nbsp;+&nbsp;(<span style="color: #006699;">abs</span>(<span style="color: #006699;">sin</span>(<span style="color: #006699;">radians</span>(rotate * 2))) * (50 * <span style="color: #006699;">sqrt</span>(2) - 50));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> (y &gt;= 350) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;points[i][0]&nbsp;=&nbsp;x;
&nbsp;&nbsp;&nbsp;&nbsp;points[i][1]&nbsp;=&nbsp;y;
&nbsp;&nbsp;&nbsp;&nbsp;points[i][2]&nbsp;=&nbsp;rotate;
&nbsp;&nbsp;&nbsp;&nbsp;rotate&nbsp;=&nbsp;rotate&nbsp;+&nbsp;speed;
&nbsp;&nbsp;}
}

</pre></body></html>
