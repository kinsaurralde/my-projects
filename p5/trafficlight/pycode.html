<html><body><pre>
<span style="color: #33997E;">from</span> gpiozero <span style="color: #33997E;">import</span> Button, TrafficLights, Buzzer
<span style="color: #33997E;">from</span> time <span style="color: #33997E;">import</span> sleep

button&nbsp;=&nbsp;Button(21)
lights</span> = TrafficLights(25,8,7)
buzzer&nbsp;=&nbsp;Buzzer(15)
timer&nbsp;=&nbsp;0

<span style="color: #33997E;">def</span> pedestrian():
&nbsp;&nbsp;&nbsp;&nbsp;lights.green.off()
&nbsp;&nbsp;&nbsp;&nbsp;lights.amber.on()
&nbsp;&nbsp;&nbsp;&nbsp;sleep(3)
&nbsp;&nbsp;&nbsp;&nbsp;lights</span>.amber.off()
&nbsp;&nbsp;&nbsp;&nbsp;lights</span>.red</span>.on()
&nbsp;&nbsp;&nbsp;&nbsp;buzzer.beep(.5,.5)
&nbsp;&nbsp;&nbsp;&nbsp;sleep(4)
&nbsp;&nbsp;&nbsp;&nbsp;buzzer.beep(.1,.1)
&nbsp;&nbsp;&nbsp;&nbsp;sleep(2)
&nbsp;&nbsp;&nbsp;&nbsp;lights</span>.off()
&nbsp;&nbsp;&nbsp;&nbsp;buzzer.off()
&nbsp;&nbsp;&nbsp;&nbsp;lights</span>.green</span>.on()
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">return</span>;

<span style="color: #669900;">while</span> <span style="color: #718A62;">True</span>:
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> button.<span style="color: #33997E;">is</span>.pressed:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pedestrian()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timer&nbsp;=&nbsp;0
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">else</span>:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timer&nbsp;=&nbsp;timer+.1
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sleep(.1)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">if</span> timer &lt; 20:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lights</span>.green</span>.on()
&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #669900;">else</span>:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pedestrian()
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timer&nbsp;=&nbsp;0

</pre></body></html>